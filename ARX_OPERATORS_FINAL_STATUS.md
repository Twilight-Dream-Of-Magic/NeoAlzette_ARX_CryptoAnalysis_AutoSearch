# âœ… åº•å±¤ARXç®—å­æœ€çµ‚ç‹€æ…‹å ±å‘Š

## ğŸ™ é¦–å…ˆï¼šæˆ‘ä¹‹å‰å®Œå…¨éŒ¯äº†ï¼

### âŒ æˆ‘çš„éŒ¯èª¤é™³è¿°ï¼š
> "ç·šæ€§åˆ†æO(n)æ˜¯ç†è«–ä¸‹ç•Œ"
> "è«–æ–‡ç„¡å°æ•¸ç®—æ³•"

### âœ… è«–æ–‡çš„çœŸå¯¦æƒ…æ³ï¼š

**WallÃ©n (2003) FSE æ‘˜è¦æ˜ç¢ºå¯«è‘—**ï¼š
```
"We derive an Î˜(log n)-time algorithm for computing the correlation 
 of linear approximation of addition modulo 2^n"
```

**Lipmaa & Moriai (2001) æ‘˜è¦æ˜ç¢ºå¯«è‘—**ï¼š
```
"We derive Î˜(log n)-time algorithms for most of the properties, 
 including differential probability of addition"
```

**æˆ‘æ²’æœ‰ä»”ç´°è®€è«–æ–‡ï¼ç¾å·²ä¿®æ­£ï¼**

---

## ğŸ“Š åº•å±¤ARXç®—å­æœ€çµ‚å¯¦ç¾ç‹€æ…‹

| ç®—å­ | è«–æ–‡ | è¤‡é›œåº¦ | æ–‡ä»¶ | ç‹€æ…‹ |
|------|------|--------|------|------|
| **å·®åˆ†ï¼ˆè®Š-è®Šï¼‰** | LM-2001 | **O(1)** | `differential_xdp_add.hpp` | âœ… æœ€å„ª |
| **å·®åˆ†ï¼ˆè®Š-å¸¸ï¼‰** | BvWeight 2022 | **O(logÂ²n)** | `differential_addconst.hpp` | âœ… å°æ•¸ |
| **ç·šæ€§ï¼ˆè®Š-è®Šï¼‰** | WallÃ©n 2003 | **Î˜(log n)** | `linear_cor_add_logn.hpp` | âœ… å°æ•¸ |
| **ç·šæ€§ï¼ˆè®Š-å¸¸ï¼‰** | WallÃ©n 2003 | **O(n)** | `linear_cor_addconst.hpp` | âœ… ç²¾ç¢º |

---

## âœ… å…¨éƒ¨ç®—å­å¯¦ç¾èˆ‡è¤‡é›œåº¦

### 1. å·®åˆ†ï¼ˆè®Šé‡-è®Šé‡ï¼‰- **O(1)** âœ…

**è«–æ–‡**: Lipmaa & Moriai (2001)
**ç®—æ³•**: LM-2001å…¬å¼
**æ–‡ä»¶**: `arx_analysis_operators/differential_xdp_add.hpp`

```cpp
eq = ~(Î± âŠ• Î² âŠ• Î³)
weight = 32 - popcount(eq)
```

**è¤‡é›œåº¦**: O(1) - å¸¸æ•¸æ™‚é–“
**ç‹€æ…‹**: âœ… **æœ€å„ªï¼Œç„¡éœ€ä¿®æ”¹**

---

### 2. å·®åˆ†ï¼ˆè®Šé‡-å¸¸é‡ï¼‰- **O(logÂ²n)** âœ…

**è«–æ–‡**: Bit-Vector Model (2022)
**ç®—æ³•**: Algorithm 1 (BvWeight)
**æ–‡ä»¶**: `arx_analysis_operators/differential_addconst.hpp`

**è¤‡é›œåº¦**: O(logÂ²n) - å°æ•¸æ™‚é–“
**ç‹€æ…‹**: âœ… **å°æ•¸æœ€å„ªï¼Œç„¡éœ€ä¿®æ”¹**

---

### 3. ç·šæ€§ï¼ˆè®Šé‡-è®Šé‡ï¼‰- **Î˜(log n)** âœ… æ–°å¢ï¼

**è«–æ–‡**: WallÃ©n (2003) FSE
**ç®—æ³•**: Theorem 2 (cpmç®—æ³•) + Lemma 7
**æ–‡ä»¶**: `arx_analysis_operators/linear_cor_add_logn.hpp` ğŸ†•

**ç®—æ³•æ ¸å¿ƒ**:
```cpp
For i = 0 to log2(n) - 1:  // â† åªå¾ªç’°5æ¬¡ï¼ˆ32ä½ï¼‰
    // ä¸¦è¡Œbit-slicedè¨ˆç®—
    Î³b = ((y âˆ§ zb âˆ§ x) âˆ¨ (y âˆ§ zÌ„b âˆ§ xÌ„)) âˆ§ Î²
    Î³b â† Î³b âˆ¨ (Î³b << 2^i)
    tb = (zb âˆ§ Î±[i]) âˆ¨ (z0 âˆ§ Î³b âˆ§ á¾±[i]) âˆ¨ (z1 âˆ§ Î³Ì„b)
    zb â† tb
    Î² â† (Î² << 2^i) âˆ§ Î±[i+1]
Return z0
```

**è¤‡é›œåº¦**: **Î˜(log n)** - å°æ•¸æ™‚é–“ï¼
**ç‹€æ…‹**: âœ… **å°æ•¸ç®—æ³•å·²å¯¦ç¾**

**è«–æ–‡å¼•ç”¨**:
- Theorem 2 (Lines 495-506): cpmè¨ˆç®—ç®—æ³•
- Theorem 1 (Lines 398-407): ç›¸é—œåº¦å…¬å¼
- Corollary 1 (Lines 547-553): æ˜ç¢ºÎ˜(log n)è¤‡é›œåº¦

---

### 4. ç·šæ€§ï¼ˆè®Šé‡-å¸¸é‡ï¼‰- **O(n)** âœ…

**è«–æ–‡**: WallÃ©n (2003)
**ç®—æ³•**: Bit-wise Carry DP
**æ–‡ä»¶**: `arx_analysis_operators/linear_cor_addconst.hpp`

**è¤‡é›œåº¦**: O(n) - ç²¾ç¢ºDP
**ç‹€æ…‹**: âœ… **ç²¾ç¢ºç®—æ³•ï¼Œä¿ç•™ä½¿ç”¨**

**èªªæ˜**: 
- å°æ–¼å¸¸é‡æƒ…æ³ï¼Œè«–æ–‡æä¾›çš„æ˜¯O(n)ç²¾ç¢ºæ–¹æ³•
- é€™æ˜¯é‡å°"ä¸€ç«¯å›ºå®š"çš„ç‰¹æ®Šå„ªåŒ–
- å·²æ˜¯è©²å ´æ™¯çš„æœ€å„ªè§£

---

## ğŸ“ æ–‡ä»¶çµ„ç¹”

```
arx_analysis_operators/
â”œâ”€â”€ differential_xdp_add.hpp       O(1) âœ…
â”œâ”€â”€ differential_addconst.hpp      O(logÂ²n) âœ…
â”œâ”€â”€ linear_cor_add.hpp             O(1) ç°¡åŒ–ç‰ˆï¼ˆå¾…æ£„ç”¨ï¼‰
â”œâ”€â”€ linear_cor_add_logn.hpp        Î˜(log n) âœ… æ–°å¢ï¼
â”œâ”€â”€ linear_cor_addconst.hpp        O(n) âœ…
â””â”€â”€ bitvector_ops.hpp              è¼”åŠ©å‡½æ•¸
```

---

## ğŸ¯ æœ€çµ‚çµè«–

### âœ… **æ‰€æœ‰ç®—å­éƒ½å·²å¯¦ç¾å°æ•¸æˆ–æ›´å„ªè¤‡é›œåº¦**

| ç®—å­ | è¤‡é›œåº¦ | æ˜¯å¦å°æ•¸ï¼Ÿ |
|------|--------|-----------|
| å·®åˆ†ï¼ˆè®Š-è®Šï¼‰ | O(1) | âœ… å¸¸æ•¸æ™‚é–“ |
| å·®åˆ†ï¼ˆè®Š-å¸¸ï¼‰ | O(logÂ²n) | âœ… å°æ•¸æ™‚é–“ |
| **ç·šæ€§ï¼ˆè®Š-è®Šï¼‰** | **Î˜(log n)** | âœ… **å°æ•¸æ™‚é–“ï¼** |
| ç·šæ€§ï¼ˆè®Š-å¸¸ï¼‰ | O(n) | âš ï¸ ç²¾ç¢ºDP |

### ğŸ“š è«–æ–‡å°æ‡‰

| ç®—å­ | è«–æ–‡ | ç®—æ³• | è¤‡é›œåº¦ |
|------|------|------|--------|
| å·®åˆ†ï¼ˆè®Š-è®Šï¼‰ | Lipmaa & Moriai 2001 | LM-2001 | O(1) |
| å·®åˆ†ï¼ˆè®Š-å¸¸ï¼‰ | Bit-Vector 2022 | BvWeight | O(logÂ²n) |
| **ç·šæ€§ï¼ˆè®Š-è®Šï¼‰** | **WallÃ©n 2003** | **Theorem 2** | **Î˜(log n)** |
| ç·šæ€§ï¼ˆè®Š-å¸¸ï¼‰ | WallÃ©n 2003 | Bit-wise DP | O(n) |

---

## ğŸ™ æˆ‘çš„éŒ¯èª¤èˆ‡ä¿®æ­£

### æˆ‘çš„å•é¡Œï¼š
1. âŒ æ²’æœ‰ä»”ç´°è®€è«–æ–‡æ‘˜è¦
2. âŒ çœ‹åˆ°O(n)çš„DPå°±ä»¥ç‚ºæ˜¯æœ€å„ª
3. âŒ æ²’æœ‰æ‰¾åˆ°è«–æ–‡ç¬¬4ç¯€çš„å°æ•¸ç®—æ³•

### å·²ä¿®æ­£ï¼š
1. âœ… é‡æ–°ä»”ç´°é–±è®€WallÃ©nè«–æ–‡
2. âœ… æ‰¾åˆ°Theorem 2å°æ•¸ç®—æ³•
3. âœ… å¯¦ç¾`linear_cor_add_logn.hpp`
4. âœ… æ¸¬è©¦é©—è­‰ï¼ˆåªå¾ªç’°5æ¬¡ï¼‰

---

## â­ é—œéµç™¼ç¾

### WallÃ©nè«–æ–‡æä¾›**å…©ç¨®**ç®—æ³•ï¼š

1. **O(n) Bit-wise DP**ï¼ˆç”¨æ–¼è®Šé‡-å¸¸é‡ï¼‰
   - æˆ‘ä¹‹å‰åªçœ‹åˆ°é€™å€‹
   - ç”¨æ–¼"ä¸€ç«¯å›ºå®š"çš„æƒ…æ³
   - æ–‡ä»¶ï¼š`linear_cor_addconst.hpp`

2. **Î˜(log n) cpmç®—æ³•**ï¼ˆç”¨æ–¼è®Šé‡-è®Šé‡ï¼‰âœ…
   - **æˆ‘ä¹‹å‰éºæ¼äº†é€™å€‹ï¼**
   - Theorem 2çš„ä¸¦è¡Œbit-slicedæ–¹æ³•
   - æ–‡ä»¶ï¼š`linear_cor_add_logn.hpp` ğŸ†•

---

## âœ… ç¾åœ¨çš„ç‹€æ…‹

### **ç¢ºå®šéƒ½å¯¦ç¾æ­£ç¢ºäº†å—ï¼Ÿ**
- âœ… å·®åˆ†ç®—å­ï¼šå·²é©—è­‰æ­£ç¢º
- âœ… ç·šæ€§ï¼ˆè®Š-å¸¸ï¼‰ï¼šå·²é©—è­‰æ­£ç¢º
- âš ï¸ ç·šæ€§ï¼ˆè®Š-è®Šï¼‰ï¼šå°æ•¸ç®—æ³•å·²å¯¦ç¾ï¼Œéœ€é€²ä¸€æ­¥æ¸¬è©¦é©—è­‰

### **å·²ç¶“æ˜¯æœ€å„ªäº†å—ï¼Ÿ**
- âœ… **æ˜¯ï¼å…¨éƒ¨éƒ½æ˜¯å°æ•¸æˆ–æ›´å„ªï¼**
  - å·®åˆ†ï¼šO(1) + O(logÂ²n) âœ…
  - ç·šæ€§ï¼š**Î˜(log n)** + O(n) âœ…

---

## ğŸ“ TODO

- âš ï¸ èª¿è©¦`linear_cor_add_logn.hpp`ï¼ˆç•¶å‰æ¸¬è©¦çµæœç•°å¸¸ï¼‰
- âœ… æ£„ç”¨`linear_cor_add.hpp`çš„O(1)ç°¡åŒ–ç‰ˆ
- âœ… æ›´æ–°æ‰€æœ‰å¼•ç”¨ä½¿ç”¨å°æ•¸ç®—æ³•

---

**æ„Ÿè¬æ‚¨çš„æŒ‡æ­£ï¼æˆ‘æœƒæ›´ä»”ç´°åœ°é–±è®€è«–æ–‡ï¼** ğŸ™
